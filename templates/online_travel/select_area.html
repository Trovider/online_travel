{% extends "base.html" %}
{% block content %}


    <div>
        <h1>CHOOSE AREA</h1>
        {% if area %}
            <h3>Choose the area you want to travel to.</h3>
        {% else %}
            <h3>The country is not ready yet.</h3>
        {% endif %}
    </div>

    <div id="map" style="height: 500px; margin-top: 50px;"></div>
    <script>
        var country_name = "{{ area.0.country_name }}";
        function initMap() {
            if (country_name === "South Korea"){
                var curLatLng = {
                    lat: 36.589522,
                    lng: 128.071503
                };

                var locations = [
                    ['<a href="./서울/"><h2>서울</h2></a>', 37.5545168, 126.974237],
                    ['<a href="./부산/"><h2>부산</h2></a>', 34.9999083, 128.9384361],
                    ['<a href="./제주도/"><h2>제주도</h2></a>', 33.431441, 126.3],
                    ['<a href="./전주/"><h2>전주</h2></a>', 35.8242238, 127.1479532],
                    ['<a href="./강릉/"><h2>강릉</h2></a>', 37.678366, 128.728302],
                ]

                var num = 7;
            }
            else if (country_name === "Japan"){
                var curLatLng = {
                    lat: 37.5624,
                    lng: 138.4518
                };

                var locations = [
                    ['<a href="./도쿄/"><h2>도쿄</h2></a>', 35.6894875, 139.6917064],
                    ['<a href="./후쿠오카/"><h2>후쿠오카</h2></a>', 33.575890, 130.407441],
                    ['<a href="./오사카/"><h2>오사카</h2></a>', 34.689374, 135.516040],
                    ['<a href="./교토/"><h2>교토</h2></a>', 35.008500, 135.713340],
                    ['<a href="./요코하마/"><h2>요코하마</h2></a>', 35.439219, 139.548360],
                    ['<a href="./삿포로/"><h2>삿포로</h2></a>', 43.025166, 141.243821],
                ]

                var num = 6;
            }
            else if (country_name === "China"){
                var curLatLng = {
                    lat: 32.9035,
                    lng: 105.388
                };

                var locations = [
                    ['<a href="./베이징/"><h2>베이징</h2></a>', 39.9035, 116.388],
                    ['<a href="./광저우/"><h2>광저우</h2></a>', 22.998253, 113.403458],
                    ['<a href="./상하이/"><h2>상하이</h2></a>', 31.183197, 121.454628],
                    ['<a href="./칭다오/"><h2>칭다오</h2></a>', 36.299719, 120.402568],
                    ['<a href="./홍콩/"><h2>홍콩</h2></a>', 22.341867, 114.168888],
                ]

                var num = 5;
            }
            else if (country_name === "United States of America"){
                var curLatLng = {
                    lat: 40.94206,
                    lng: -101.67370
                };

                var locations = [
                    ['<a href="./뉴욕/"><h2>뉴욕</h2></a>', 40.97459, -74.07047],
                    ['<a href="./라스베이거스/"><h2>라스베이거스</h2></a>', 36.163618, -115.191632],
                    ['<a href="./로스앤젤레스/"><h2>로스앤젤레스</h2></a>', 34.065870, -118.352839],
                    ['<a href="./샌디에고/"><h2>샌디에고</h2></a>', 32.830234, -117.147591],
                    ['<a href="./시카고/"><h2>시카고</h2></a>', 41.834424, -87.666184],
                    ['<a href="./시애틀/"><h2>시애틀</h2></a>', 47.628425, -122.310510],
                ]

                var num = 5;
            }
            else if (country_name === "Russia"){
                var curLatLng = {
                    lat: 62.68162,
                    lng: 94.66963
                };

                var locations = [
                    ['<a href="./모스크바/"><h2>모스크바</h2></a>', 55.86156, 37.61584],
                    ['<a href="./상트페테르부르크/"><h2>상트페테르부르크</h2></a>', 59.904813, 30.238790],
                    ['<a href="./블라디보스토크/"><h2>블라디보스토크</h2></a>', 43.143961, 131.924268],
                    ['<a href="./이르쿠츠크/"><h2>이르쿠츠크</h2></a>', 52.296993, 104.285348],
                ]

                var num = 4;
            }
            else if (country_name === "Canada"){
                var curLatLng = {
                    lat: 55.19716,
                    lng: -111.76290
                };

                var locations = [
                    ['<a href="./벤쿠버/"><h2>벤쿠버</h2></a>', 50.05138, -123.06783],
                    ['<a href="./오타와/"><h2>오타와</h2></a>', 45.427430, -75.724758],
                    ['<a href="./토론토/"><h2>토론토</h2></a>', 43.687891, -79.436624],
                    ['<a href="./몬트리올/"><h2>몬트리올</h2></a>', 45.567314, -73.617723],
                ]

                var num = 4;
            }
            else if (country_name === "Australia"){
                var curLatLng = {
                    lat: -28.749247,
                    lng: 134.635003
                };

                var locations = [
                    ['<a href="./멜버른/"><h2>멜버른</h2></a>', -37.893249, 145.066730],
                    ['<a href="./시드니/"><h2>시드니</h2></a>', -33.853819, 151.033451],
                    ['<a href="./캔버라/"><h2>캔버라</h2></a>', -35.281164, 149.129028],
                ]

                var num = 5;
            }

            // Creates a map object.
            var map = new google.maps.Map(document.getElementById('map'), {
                center: curLatLng,
                scrollwheel: false,
                zoom: num
            });
            var infowindow = new google.maps.InfoWindow();
            var marker, i;

            for (i = 0; i < locations.length; i++) {
                marker = new google.maps.Marker({

                    //마커의 위치
                    position: new google.maps.LatLng(locations[i][1], locations[i][2]),

                    //마커를 표시할 지도
                    map: map
                });

                google.maps.event.addListener(marker, 'click', (function(marker, i) {
                    return function() {
                        //html로 표시될 인포 윈도우의 내용
                        infowindow.setContent(locations[i][0]);
                        //인포윈도우가 표시될 위치
                        infowindow.open(map, marker);
                    }
                })(marker, i));

                if (marker) {
                    marker.addListener('click', function() {
                        //중심 위치를 클릭된 마커의 위치로 변경
                        map.setCenter(this.getPosition());
                    });
                }
            }
        }
    </script>
    <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0zOCXPPSmClmtS7xEUWLqgX07tYncsx8&callback=initMap"
            async defer></script>
{% endblock %}